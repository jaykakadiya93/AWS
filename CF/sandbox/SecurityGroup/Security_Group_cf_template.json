{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "Security Group Creation",
  "Parameters": {
    "GroupName": {
      "Description": "Security Group Name",
      "Type": "String"
    },
    "VpcId": {
      "Description": "Security Group VpcId",
      "Type": "String"
    },
    "IpProtocolIngress": {
      "Description": "Security Group Inbound Protocol",
      "Type": "String"
    },
    "FromPortIngress": {
      "Description": "Security Group Inbound from port",
      "Type": "String"
    },
    "ToPortIngress": {
      "Description": "Security Group Inbound to port",
      "Type": "String"
    },
    "CidrIpIngress": {
      "Description": "Security Group Inbound IP",
      "Type": "String"
    },
    "IpProtocolEgress": {
      "Description": "Security Group Outbound protocol ",
      "Type": "String"
    },
    "FromPortEgress": {
      "Description": "Security Group Outbound from port",
      "Type": "String"
    },
    "ToPortEgress": {
      "Description": "Security Group Outbound to port",
      "Type": "String"
    },
    "CidrIpEgress": {
      "Description": "Security Group Outbound IP",
      "Type": "String"
    },
    "GroupDescription": {
      "Description": "GroupDescription",
      "Type": "String"
    }
  },
  "Resources": {
    "SecurityGroup": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupName": {
          "Ref": "GroupName"
        },
        "VpcId": {
          "Ref": "VpcId"
        },
        "SecurityGroupIngress": [
          {
            "IpProtocol": {
              "Ref": "IpProtocolIngress"
            },
            "FromPort": {
              "Ref": "FromPortIngress"
            },
            "ToPort": {
              "Ref": "ToPortIngress"
            },
            "CidrIp": {
              "Ref": "CidrIpIngress"
            }
          }
        ],
        "SecurityGroupEgress": [
          {
            "IpProtocol": {
              "Ref": "IpProtocolEgress"
            },
            "FromPort": {
              "Ref": "FromPortEgress"
            },
            "ToPort": {
              "Ref": "ToPortEgress"
            },
            "CidrIp": {
              "Ref": "CidrIpEgress"
            }
          }
        ],
        "GroupDescription": {
          "Ref": "GroupDescription"
        }
      }
    }
  }
}